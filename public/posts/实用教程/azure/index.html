<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="[云服务器] “moments”&amp;”Navidrome”demo - https://matrixcore.life/posts/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/azure/">
    <meta name="author" content="MatrixCore - https://matrixcore.life/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>[云服务器] “moments”&amp;”Navidrome”demo</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://matrixcore.life/style.min.d252ad53a5e6b2ae6b8c6c1661107189be3668e36c8dd61697bbe008595a7e04.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate ">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": true
	}
</div>
    <h1 class="title">
        
            [云服务器] “moments”&amp;”Navidrome”demo
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2023-09-24&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2023-09-24&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            8041 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            17 分钟</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B">实用教程</a>
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://matrixcore.life/posts/%E8%B0%88%E7%BE%8E-%E6%9C%B1%E5%85%89%E6%BD%9C/beauty03/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://matrixcore.life/posts/%E8%BF%91%E6%9C%9F%E8%A7%84%E5%88%92/%E8%87%AA%E5%8A%A8%E9%A3%9E%E6%8E%A7/afsc02/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1云服务器的选择">1.云服务器的选择</a></li>
    <li><a href="#2moments-教程之-docker-部署">2.<strong>Moments 教程之 Docker 部署</strong></a></li>
    <li><a href="#3navidrome">3.Navidrome</a></li>
    <li><a href="#4问题补充">4.问题补充</a></li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h1 id="前言">前言</h1>
<hr>
<p><a href="https://crowya.com/friendlinks">鸦鸦的博客</a>通过 wp 框架开发 rss 友链框架，好棒！好心动 🥰！</p>
<p>偶然间看到<a href="https://shiyu.dev/archives/2069/moments-%E6%95%99%E7%A8%8B%E4%B9%8Bdocker%E9%83%A8%E7%BD%B2/">时雨开发的 moment</a>，也可以实现同样的功能，更心动 😋！</p>
<p>后面也借助 Navidrome 搭建了之前想要实现的云音乐。</p>
<p>效果如下，也在首页添加了导航：</p>
<p><img src="https://bu.dusays.com/2023/09/24/65100ca288ad5.png" alt=""></p>
<p><img src="https://bu.dusays.com/2023/09/24/6510108841216.png" alt=""></p>
<p><img src="https://bu.dusays.com/2023/09/24/65100d1972f1b.png" alt=""></p>
<h1 id="简明教程">简明教程</h1>
<hr>
<p>这部分介绍我的踩坑经历和经验回顾，时间有限，有些地方会省略。</p>
<h2 id="1云服务器的选择">1.云服务器的选择</h2>
<hr>
<p>第一次选择了 AWS 的服务器，但是我感觉不是很稳定。</p>
<p>第二次选择了 Azure，有时不稳定，但用起来感觉还可以。</p>
<p>服务器相关的准备，参考<a href="https://zhuanlan.zhihu.com/p/157632464">这篇教程</a></p>
<h2 id="2moments-教程之-docker-部署">2.<strong>Moments 教程之 Docker 部署</strong></h2>
<hr>
<p>这是时雨大大的<a href="https://shiyu.dev/archives/2069/moments-%E6%95%99%E7%A8%8B%E4%B9%8Bdocker%E9%83%A8%E7%BD%B2/">教程</a>，我再次基础上做一些补充</p>
<ul>
<li>
<p>访问 <a href="http://ip:3000/">http://ip:3000</a>
这是项目的第一步，通过 docker 部署完成，开放端口之后，您应可以正常访问。</p>
<pre><code>&lt;details&gt;
  &lt;summary&gt;Azure云服务器上打开端口3000&lt;/summary&gt;

1. 登录到Azure门户（[portal.azure.com](http://portal.azure.com/)）。
2. 导航到你的虚拟机资源。这可能是通过搜索虚拟机名称或浏览到相关资源组来实现的。
3. 在虚拟机资源的概述页面上，点击左侧导航栏中的&quot;网络安全组&quot;（Network security group）。
4. 在网络安全组页面上，选择与你的虚拟机关联的安全组。
5. 在安全组的概述页面上，点击左侧导航栏中的&quot;入站规则&quot;（Inbound security rules）。
6. 在入站规则页面上，点击&quot;添加&quot;（Add）按钮以创建新的规则。
7. 在添加规则的页面上，提供以下信息：
	- 规则名称（Name）：可以为规则指定一个描述性的名称，例如&quot;Allow Port 3000&quot;。
	- 优先级（Priority）：指定规则的优先级，数字越小优先级越高。
	- 源（Source）：指定允许访问端口的来源。可以是特定IP地址、IP范围或者所有来源（0.0.0.0/0）。
	- 端口范围（Port range）：指定要打开的端口范围，对于端口3000，输入&quot;3000&quot;。
	- 协议（Protocol）：选择要允许的协议，通常是TCP。
	- 操作（Action）：选择允许（Allow）流量通过规则。
8. 完成后，点击&quot;添加&quot;（Add）按钮以创建规则。

现在，你的Azure云服务器应该允许通过端口3000的流量。请确保你的应用程序在服务器上监听该端口，以便能够接受传入的连接。



  &lt;/details&gt;


&lt;details&gt;
  &lt;summary&gt;Ubuntu服务器上开放端口3000&lt;/summary&gt;

1. 使用SSH登录到服务器。确保你具有管理员权限或可以使用sudo命令。
2. 打开防火墙配置。Ubuntu使用ufw（Uncomplicated Firewall）作为默认的防火墙管理工具。可以使用以下命令打开ufw配置文件：

	```shell
	sudo ufw allow 3000
	```


	这将允许从外部访问服务器的3000端口。

3. 启用防火墙。如果ufw尚未启用，请使用以下命令启用它：

	```shell
	sudo ufw enable
	```


	系统会提示你确认启用防火墙，输入&quot;y&quot;并按Enter键。

4. 验证端口是否已打开。可以使用以下命令检查ufw的状态，确保3000端口已打开：

	```shell
	sudo ufw status
	```


	如果一切正常，你应该看到类似以下内容的输出：


	```text
	Status: active

	To                         Action      From
	--                         ------      ----
	3000                       ALLOW       Anywhere
	```


	这表示端口3000已成功开放。


请注意，如果你使用的是云服务提供商（如AWS、DigitalOcean等），你还需要在云服务提供商的控制面板中配置相应的安全组规则，以允许从外部访问端口3000。具体操作步骤可能会有所不同，你可以参考云服务提供商的文档或联系他们的支持部门以获取更多帮助。



  &lt;/details&gt;
</code></pre>
</li>
<li>
<p>为项目进行自定义域名（可选）</p>
<details>
  <summary>如何使用nginx反向代理到自己的域名</summary>
<p>要使用 Nginx 进行反向代理到自己的域名，你可以按照以下步骤进行操作：</p>
<ol>
<li>
<p>安装 Nginx：首先，确保你的服务器上已经安装了 Nginx。你可以使用适合你的操作系统的包管理器来安装 Nginx，例如在 Ubuntu 上可以使用以下命令进行安装：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt update
</span></span><span style="display:flex;"><span>sudo apt install nginx
</span></span></code></pre></div></li>
<li>
<p>配置 Nginx：Nginx 的配置文件通常位于<code>/etc/nginx</code>目录下。打开该目录中的<code>nginx.conf</code>文件或者在<code>/etc/nginx/conf.d/</code>目录中创建一个新的配置文件。</p>
</li>
<li>
<p>编辑 Nginx 配置文件：在配置文件中，你需要定义一个反向代理的服务器块。以下是一个示例配置，将请求代理到本地运行的应用程序（假设应用程序运行在本地的 3000 端口）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>server { listen 80; server_name yourdomain.com; location / { proxy_pass
</span></span><span style="display:flex;"><span>&lt;<span style="color:#000080">http:</span><span style="color:#a61717;background-color:#e3d2d2">//</span><span style="color:#008080">IP:3000</span>&gt;; proxy_set_header Host $host; proxy_set_header X-Real-IP
</span></span><span style="display:flex;"><span>$remote_addr; } }
</span></span></code></pre></div><p>在上述配置中，将<code>yourdomain.com</code>替换为你自己的域名，并将<code>proxy_pass</code>指令中的端口号和后端应用程序的地址替换为实际的值。</p>
</li>
<li>
<p>保存并关闭文件。</p>
</li>
<li>
<p>检查 Nginx 配置：运行以下命令检查 Nginx 配置是否正确：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo nginx -t
</span></span></code></pre></div></li>
<li>
<p>重新加载 Nginx 配置：如果配置文件没有错误，重新加载 Nginx 以使配置生效：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl reload nginx
</span></span></code></pre></div></li>
</ol>
<p>现在，当访问你的域名时，Nginx 将会将请求反向代理到指定的应用程序。请确保你的应用程序正在监听 Nginx 配置文件中指定的端口。</p>
  </details>
<p>您还需要放开<a href="https://cloud.tencent.com/developer/article/1835556">nginx 常用的端口</a>
您还需要在域名控制台中正确配置您的<a href="https://blog.csdn.net/bangshao1989/article/details/121913780">DNS 解析</a>
当您更换服务器 IP 地址时，您还需要注意<a href="https://zhuanlan.zhihu.com/p/650905793?utm_id=0">DNS 解析生效</a>的问题</p>
</li>
<li>
<p>为域名颁发 ssl 证书（可选）</p>
<details>
  <summary>颁发ssl证书</summary>
<p>要为自己的服务器颁发 SSL 证书，你可以按照以下步骤进行操作：</p>
<ol>
<li>
<p>生成私钥（Private Key）：首先，你需要生成一个私钥文件。在服务器上使用以下命令生成私钥文件（通常使用 OpenSSL 工具）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>openssl genpkey -algorithm RSA -out private.key
</span></span></code></pre></div></li>
<li>
<p>生成证书签名请求（Certificate Signing Request，CSR）：使用生成的私钥文件，生成一个证书签名请求文件。运行以下命令并按照提示提供必要的信息：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>openssl req -new -key private.key -out csr.pem
</span></span></code></pre></div></li>
<li>
<p>购买或使用免费的 SSL 证书：你可以选择购买商业 SSL 证书，或者使用一些免费的证书颁发机构（例如 Let&rsquo;s Encrypt）提供的免费证书。对于 Let&rsquo;s Encrypt，他们提供了一个自动化的工具 Certbot，可以帮助你获取和管理证书。</p>
</li>
<li>
<p>安装 SSL 证书：根据你选择的证书颁发机构，按照他们的指南和文档来安装 SSL 证书。这通常涉及将证书文件和私钥文件放置在服务器上的特定位置，并在服务器配置文件中指定证书的路径。</p>
</li>
<li>
<p>配置服务器以使用 SSL：在服务器配置文件（如 Nginx 或 Apache）中进行相应的配置更改，以启用 SSL。这包括指定证书文件的路径、监听 SSL 端口（通常是 443）以及其他相关的 SSL 配置选项。</p>
</li>
<li>
<p>测试 SSL 连接：完成上述步骤后，重新启动服务器并测试 SSL 连接。你可以使用 Web 浏览器访问你的服务器，并确保连接是通过 HTTPS（而不是 HTTP）来建立的，并且浏览器不会显示任何关于证书的警告或错误信息。</p>
</li>
</ol>
<p>请注意，这只是一个基本的概述，实际操作可能因你选择的证书颁发机构和服务器软件而有所不同。在实施 SSL 证书之前，建议你仔细阅读相关的文档和指南，以确保正确配置和安全性。</p>
  </details>
<p>如果一切顺利，您可以通过您的域名正常访问，后续的修改工作，请参考<a href="https://github.com/Drizzle365/Moments">时雨的教程</a></p>
</li>
</ul>
<h2 id="3navidrome">3.Navidrome</h2>
<hr>
<p>关于 Navidrome 的介绍和部署您可以参考<a href="https://zhuanlan.zhihu.com/p/653913549">这篇文章</a>，非常详细，我对我遇到的问题做一些补充。</p>
<ul>
<li>
<p>本地和服务器文件传输的问题</p>
<p><img src="https://bu.dusays.com/2023/09/24/650ff8be45e0a.jpeg" alt=""></p>
</li>
<li>
<p><a href="https://github.com/xhongc/music-tag-web"><strong>Music Tag Web</strong></a>编辑歌曲的属性（可选）</p>
</li>
</ul>
<h2 id="4问题补充">4.问题补充</h2>
<hr>
<details>
  <summary>查看ubuntu的目录列表</summary>
<p>要查看 Ubuntu 上的目录列表，可以使用<code>ls</code>命令。<code>ls</code>命令用于列出当前目录下的文件和子目录。</p>
<p>在终端中打开一个新的命令行窗口，并输入以下命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ls
</span></span></code></pre></div><p>按下回车键后，将显示当前目录下的文件和子目录的列表。</p>
<p>如果要查看特定目录的列表，可以在<code>ls</code>命令后面加上目录的路径。例如，要查看<code>/home/user/Documents</code>目录的列表，可以输入以下命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ls /home/user/Documents
</span></span></code></pre></div><p>这将显示<code>/home/user/Documents</code>目录下的文件和子目录的列表。</p>
<p><code>ls</code>命令还有一些有用的选项，可以根据需要使用。例如，<code>ls -l</code>命令将以长格式显示目录列表，包括文件的权限、所有者、大小等详细信息。<code>ls -a</code>命令将显示所有文件，包括隐藏文件。要了解更多选项，可以使用<code>man ls</code>命令查看<code>ls</code>命令的手册页。</p>
<p>希望这可以帮助到你！</p>
  </details>
<details>
  <summary>ubuntu命令行无响应</summary>
<p>如果 Ubuntu 命令行卡住了，你可以尝试以下几种方法来解决问题：</p>
<ol>
<li>检查命令是否仍在运行：有时候，一个命令可能需要更长的时间才能完成。在等待一段时间后，可以检查命令是否仍在运行。按下键盘上的<code>Ctrl + C</code>组合键可以尝试中止当前运行的命令。</li>
<li>检查系统资源：卡顿可能是由于系统资源不足引起的。可以使用<code>top</code>命令或者<code>htop</code>命令来查看系统资源的使用情况，包括 CPU、内存和磁盘等。如果发现某个进程占用了大量资源，可以尝试终止该进程或者释放资源。</li>
<li>重启终端：如果命令行完全无响应，可以尝试关闭当前终端窗口，然后重新打开一个新的终端窗口。</li>
<li>重启系统：如果上述方法都没有解决问题，可以尝试重启整个系统。可以使用<code>reboot</code>命令或者点击系统菜单中的关机选项来重启 Ubuntu。</li>
<li>检查系统日志：如果问题仍然存在，可以查看系统日志以获取更多信息。系统日志通常位于<code>/var/log</code>目录下，可以使用<code>less</code>命令或者其他文本编辑器来打开并查看日志文件。</li>
</ol>
  </details>
<details>
  <summary>ubuntu删除多个文件</summary>
<p>要在 Ubuntu 上删除多个文件，可以使用<code>rm</code>命令。以下是几种常见的方法：</p>
<ol>
<li>
<p>删除指定文件列表：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm file1.txt file2.txt file3.txt
</span></span></code></pre></div></li>
<li>
<p>删除指定目录下的所有文件：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm /path/to/directory/*
</span></span></code></pre></div><p>请注意，上述命令将删除目录中的所有文件，但不会删除目录本身。</p>
</li>
<li>
<p>删除指定目录及其所有内容：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm -r /path/to/directory
</span></span></code></pre></div><p>使用<code>-r</code>选项会递归地删除目录及其所有内容，包括子目录和文件。</p>
</li>
<li>
<p>删除指定文件类型的所有文件：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm *.txt
</span></span></code></pre></div><p>上述命令将删除当前目录下所有以<code>.txt</code>为扩展名的文件。</p>
</li>
</ol>
<p>在使用<code>rm</code>命令时，请务必小心，因为删除的文件将无法恢复。请确保在执行命令之前确认要删除的文件列表，并确保不会误删重要文件。</p>
  </details>
<details>
  <summary>linux文件移动</summary>
<p>在 Linux 中，你可以使用  <code>mv</code>  命令来移动文件或目录。<code>mv</code>  命令的基本语法如下：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mv [选项] 源文件或目录 目标文件或目录
</span></span></code></pre></div><p>以下是一些常用的  <code>mv</code>  命令选项：</p>
<ul>
<li><code>i</code>：在移动文件之前进行确认提示，以防止覆盖已存在的目标文件。</li>
<li><code>u</code>：只移动更新或更改了的文件，或者移动不存在于目标位置的文件。</li>
<li><code>v</code>：显示详细的移动过程，输出每个移动的文件名。</li>
</ul>
<p>下面是一些示例用法：</p>
<ol>
<li>
<p>移动文件到目标目录：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mv file.txt /path/to/destination/
</span></span></code></pre></div><p>这将把名为  <code>file.txt</code>  的文件移动到  <code>/path/to/destination/</code>  目录中。</p>
</li>
<li>
<p>重命名文件：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mv oldname.txt newname.txt
</span></span></code></pre></div><p>这将把名为  <code>oldname.txt</code>  的文件重命名为  <code>newname.txt</code>。</p>
</li>
<li>
<p>移动目录到目标位置：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mv directory /path/to/destination/
</span></span></code></pre></div><p>这将把名为  <code>directory</code>  的目录移动到  <code>/path/to/destination/</code>  目录中。</p>
</li>
<li>
<p>移动多个文件到目标目录：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>mv file1.txt file2.txt /path/to/destination/
</span></span></code></pre></div><p>这将同时移动  <code>file1.txt</code>  和  <code>file2.txt</code>  到  <code>/path/to/destination/</code>  目录中。</p>
</li>
</ol>
<p>请注意，如果目标位置已经存在同名的文件或目录，<code>mv</code>  命令将覆盖它。如果你想要保留原始文件或目录，可以使用  <code>-i</code>  选项来进行确认提示，或者使用  <code>-u</code>  选项来只移动更新或更改了的文件。</p>
  </details>
<details>
  <summary>linux文件删除</summary>
<p>要删除文件夹（目录）及其内容，你可以使用  <code>rm</code>  命令。请注意，删除文件夹是一个潜在的危险操作，请谨慎使用，并确保你要删除的是正确的目录。</p>
<p>以下是删除文件夹的一些常见用法：</p>
<ol>
<li>
<p>删除空文件夹：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm -d empty_directory
</span></span></code></pre></div><p>这将删除名为  <code>empty_directory</code>  的空文件夹。</p>
</li>
<li>
<p>删除非空文件夹：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm -r directory
</span></span></code></pre></div><p>这将递归地删除名为  <code>directory</code>  的文件夹及其所有内容。请注意，这是一个危险操作，因为它会永久删除文件夹及其内容，无法恢复。在使用  <code>-r</code>  选项时要特别小心，确保你要删除的是正确的目录。</p>
</li>
<li>
<p>删除文件夹并强制删除：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>rm -rf directory
</span></span></code></pre></div><p>这将递归地删除名为  <code>directory</code>  的文件夹及其所有内容，并强制删除，无需确认提示。这是一个非常危险的操作，请确保你要删除的是正确的目录，并且你真正想要永久删除它及其内容。</p>
</li>
</ol>
<p>请记住，在使用  <code>rm</code>  命令时要小心，确保你要删除的是正确的文件夹。删除操作无法撤消，并且会永久删除文件夹及其内容。</p>
  </details>
<details>
  <summary>vim编辑器的退出</summary>
<p>要退出 Vim 编辑器，可以按照以下步骤进行操作：</p>
<ol>
<li>确保你处于&quot;命令模式&quot;（Command mode）。如果你处于&quot;插入模式&quot;（Insert mode）或&quot;编辑模式&quot;（Edit mode），可以按下键盘上的 Esc 键返回命令模式。</li>
<li>在命令模式下，输入冒号（:）字符，然后输入以下命令之一：
<ul>
<li><code>q</code>：退出 Vim。如果没有做任何更改，Vim 将立即退出。如果有未保存的更改，Vim 将显示错误消息并拒绝退出。你可以使用<code>:q!</code>命令来强制退出 Vim，丢弃未保存的更改。</li>
<li><code>wq</code>：保存更改并退出 Vim。</li>
<li><code>x</code>：保存更改并退出 Vim 的简写形式。</li>
</ul>
</li>
<li>按下回车键执行命令。Vim 将执行相应的操作并退出编辑器。</li>
</ol>
<p>请注意，Vim 有许多其他命令和选项可用于编辑和保存文件。上述命令是最基本和常用的命令。如果你对 Vim 的使用不熟悉，可以参考 Vim 的文档或教程以了解更多详细信息。</p>
  </details>
<details>
  <summary>使用vscode远程ssh链接</summary>
<p>使用 VS Code 进行远程 SSH 连接非常方便，以下是连接到远程服务器的一般步骤：</p>
<ol>
<li>
<p>安装 VS Code 插件：打开 VS Code，点击左侧的扩展图标（或按下<code>Ctrl+Shift+X</code>），搜索并安装名为&quot;Remote - SSH&quot;的插件。</p>
</li>
<li>
<p>配置 SSH 配置文件：在 VS Code 中，点击左下角的&quot;Remote Explorer&quot;图标，然后选择&quot;SSH Targets&quot;。在弹出的菜单中，选择&quot;Configure SSH Hosts&quot;。这将打开一个 SSH 配置文件，你可以在其中添加远程服务器的连接信息。</p>
<p>在配置文件中，你可以添加类似以下的条目：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>Host my-remote-server
</span></span><span style="display:flex;"><span>    HostName &lt;远程服务器IP或域名&gt;
</span></span><span style="display:flex;"><span>    User &lt;远程服务器用户名&gt;
</span></span><span style="display:flex;"><span>    IdentityFile &lt;私钥文件路径&gt;
</span></span></code></pre></div><p>替换<code>&lt;远程服务器IP或域名&gt;</code>、<code>&lt;远程服务器用户名&gt;</code>和<code>&lt;私钥文件路径&gt;</code>为实际的值。如果你使用密码进行身份验证，可以省略<code>IdentityFile</code>行。</p>
</li>
<li>
<p>连接到远程服务器：在 VS Code 的&quot;Remote Explorer&quot;中，点击左上角的&quot;SSH Targets&quot;图标，然后选择你配置的远程服务器。VS Code 将自动连接到远程服务器，并在新的窗口中打开一个远程终端。</p>
</li>
<li>
<p>在远程服务器上使用 VS Code：一旦连接成功，你可以像在本地使用 VS Code 一样，在远程服务器上编辑文件、运行终端命令等。</p>
</li>
</ol>
<p>请注意，为了进行远程 SSH 连接，你需要确保本地计算机可以访问远程服务器的 SSH 端口（默认为 22）。如果你的服务器有安全组或防火墙设置，确保允许 SSH 流量通过。</p>
  </details>
<details>
  <summary>使用nginx反向代理到自己的域名之后仍然无法访问</summary>
<p>如果你已经将 Nginx 配置为反向代理到自己的域名，但仍然无法访问，请检查以下几个可能的原因和解决方法：</p>
<ol>
<li>
<p>检查域名解析是否正确：确保你的域名已正确解析到你的服务器的公共 IP 地址。你可以通过运行  <code>ping your-domain.com</code>  命令来验证域名是否解析到正确的 IP 地址。如果解析不正确，你需要在域名注册商或 DNS 服务提供商的控制面板中进行相应的修改。</p>
</li>
<li>
<p>防火墙设置：检查服务器上的防火墙设置，确保端口 80（HTTP）和/或 443（HTTPS）是打开的。你可以使用以下命令来检查防火墙规则：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo ufw status
</span></span></code></pre></div><p>如果防火墙是启用的，并且端口被阻止，你可以使用  <code>ufw</code>  命令打开相应的端口。例如，要打开 HTTP 端口 80，可以运行：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo ufw allow <span style="color:#099">80</span>
</span></span></code></pre></div></li>
<li>
<p>检查 Nginx 配置是否正确：确保你的 Nginx 配置文件中的反向代理设置正确无误。检查以下几个方面：</p>
<ul>
<li><code>server_name</code>  是否设置为你的域名。</li>
<li><code>proxy_pass</code>  是否指向正确的后端服务器地址和端口。</li>
<li>其他相关的代理设置是否正确，如  <code>proxy_set_header</code>  等。</li>
</ul>
</li>
<li>
<p>检查后端服务器是否正常工作：确保你的后端服务器正常运行并且可以通过指定的地址和端口访问。你可以尝试直接访问后端服务器的地址和端口来验证是否正常工作。</p>
</li>
<li>
<p>检查 Nginx 日志：查看 Nginx 的错误日志文件，通常位于  <code>/var/log/nginx/error.log</code>。检查是否有与访问问题相关的错误或警告消息。</p>
</li>
</ol>
  </details>
<details>
  <summary>云服务器中如何让进程保持运行</summary>
<p>在云服务器中，您可以使用以下方法之一来使进程持续运行：</p>
<ol>
<li>
<p>使用终端后台运行：您可以在终端中运行命令，并使用<code>&amp;</code>符号将其放在后台运行。例如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>command &amp;
</span></span></code></pre></div><p>这将使命令在后台运行，并且即使您关闭终端或断开与服务器的连接，该进程也会继续运行。</p>
</li>
<li>
<p>使用 nohup 命令：<code>nohup</code>命令可让您在断开与服务器连接后继续运行进程。例如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>nohup command &amp;
</span></span></code></pre></div><p>这将使用<code>nohup</code>命令将进程放在后台运行，并将输出重定向到一个名为<code>nohup.out</code>的文件中。</p>
</li>
<li>
<p>使用系统服务（systemd）：对于长期运行的进程，建议将其配置为系统服务。使用 systemd 可以管理进程的启动、停止和自动重启。以下是一个简单的示例：</p>
<ul>
<li>
<p>创建一个名为<code>your-service.service</code>的服务配置文件，例如：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sudo nano /etc/systemd/system/your-service.service
</span></span></code></pre></div></li>
<li>
<p>在文件中添加以下内容（根据您的进程和需求进行修改）：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>[Unit]
</span></span><span style="display:flex;"><span>Description=Your Service
</span></span><span style="display:flex;"><span>After=network.target
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[Service]
</span></span><span style="display:flex;"><span>ExecStart=/path/to/your/command
</span></span><span style="display:flex;"><span>Restart=always
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[Install]
</span></span><span style="display:flex;"><span>WantedBy=multi-user.target
</span></span></code></pre></div></li>
<li>
<p>保存并关闭文件。</p>
</li>
<li>
<p>启用和启动服务：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>sudo systemctl enable your-service
</span></span><span style="display:flex;"><span>sudo systemctl start your-service
</span></span></code></pre></div><p>这将使服务在系统启动时自动启动，并且可以使用<code>systemctl</code>命令来管理服务。</p>
</li>
</ul>
</li>
</ol>
<p>使用上述方法之一，您可以确保进程在云服务器中持续运行，并且不会受到终端连接断开的影响。请根据您的需求和具体情况选择适合的方法。</p>
  </details>
<details>
  <summary>服务器如何停止并重新运行一个进程</summary>
<p>要停止并重新运行一个进程，您可以使用以下步骤：</p>
<ol>
<li>
<p>查找进程 ID（PID）：首先，您需要找到要停止的进程的 PID。您可以使用<code>ps</code>命令或<code>pgrep</code>命令来查找进程的 PID。例如，假设您要停止名为<code>your-process</code>的进程，可以运行以下命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>ps aux | grep your-process
</span></span></code></pre></div><p>这将显示与<code>your-process</code>相关的进程列表，包括其 PID。</p>
</li>
<li>
<p>停止进程：一旦您找到了进程的 PID，您可以使用<code>kill</code>命令来停止它。例如，假设进程的 PID 为<code>12345</code>，您可以运行以下命令来停止进程：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#0086b3">kill</span> <span style="color:#099">12345</span>
</span></span></code></pre></div><p>如果进程不会立即停止，您可以尝试使用<code>kill -9</code>命令来强制终止进程：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#0086b3">kill</span> -9 <span style="color:#099">12345</span>
</span></span></code></pre></div><p>请注意，使用<code>kill -9</code>命令会强制终止进程，可能会导致数据丢失或其他不良影响。请谨慎使用。</p>
</li>
<li>
<p>重新运行进程：一旦您停止了进程，您可以根据需要重新启动它。具体的方法取决于您的进程类型和启动方式。您可以使用命令行或其他启动脚本来重新启动进程。</p>
<ul>
<li>
<p>如果您的进程是通过命令行启动的，您可以再次运行启动命令来重新启动进程。</p>
</li>
<li>
<p>如果您的进程是通过系统服务（如 systemd）管理的，您可以使用相应的命令来重新启动服务。例如，使用 systemd 管理的服务可以使用以下命令重新启动：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo systemctl restart your-service
</span></span></code></pre></div></li>
<li>
<p>如果您使用其他工具或方法来管理进程，请参考相应的文档或说明来重新启动进程。</p>
</li>
</ul>
</li>
</ol>
<p>通过以上步骤，您可以停止并重新运行一个进程。请确保在重新运行进程之前，您已经停止了该进程，以避免冲突或其他问题。</p>
  </details>
<details>
  <summary>如何建立远程服务器对本机的信任</summary>
<p>要建立远程服务器对本机的信任，你可以使用 SSH 密钥进行身份验证。以下是建立信任的一般步骤：</p>
<ol>
<li>
<p>生成 SSH 密钥对：在本机上生成 SSH 密钥对，包括公钥和私钥。如果你已经有 SSH 密钥对，请跳过此步骤。要生成 SSH 密钥对，请在终端上运行以下命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>ssh-keygen -t rsa -b 4096
</span></span></code></pre></div><p>这将生成一个 RSA 密钥对，密钥将保存在  <code>~/.ssh/id_rsa</code>（私钥）和  <code>~/.ssh/id_rsa.pub</code>（公钥）文件中。</p>
</li>
<li>
<p>将公钥复制到远程服务器：使用以下命令将公钥复制到远程服务器上的  <code>authorized_keys</code>  文件中：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>ssh-copy-id matrixcore@20.243.81.174
</span></span></code></pre></div><p>这将将本机上的公钥复制到远程服务器的  <code>~/.ssh/authorized_keys</code>  文件中。你需要提供远程服务器的用户名和密码。</p>
<p>如果  <code>ssh-copy-id</code>  命令不可用，你可以手动将公钥内容复制到远程服务器的  <code>~/.ssh/authorized_keys</code>  文件中。</p>
</li>
<li>
<p>验证连接：现在，你应该能够通过 SSH 连接到远程服务器而无需输入密码。尝试使用以下命令连接到服务器：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>ssh matrixcore@20.243.81.174
</span></span></code></pre></div><p>如果一切设置正确，你将能够无需密码直接登录到远程服务器。</p>
</li>
</ol>
<p>这样，你就建立了远程服务器对本机的信任关系，可以在进行 SSH 连接时无需输入密码。请注意，这种信任建立是基于公钥加密的身份验证，因此确保你的私钥保密，并采取适当的安全措施来保护它。</p>
  </details>
<details>
  <summary>Azure 虚拟机代理状态未就绪问题处理</summary>
<p>重新部署虚拟机</p>
  </details>
<details>
  <summary>重启docker特定进程并进行系统守护</summary>
<p>要重启 Docker 中的特定进程并将其设置为系统守护进程，你可以执行以下步骤：</p>
<ol>
<li>
<p>首先，使用以下命令查找要重启的 Docker 容器的 ID 或名称：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker ps
</span></span></code></pre></div><p>这将列出当前正在运行的 Docker 容器，找到你要重启的容器并记下其 ID 或名称。</p>
</li>
<li>
<p>使用以下命令重启 Docker 容器：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker restart &lt;容器ID或名称&gt;
</span></span></code></pre></div><p>将  <code>&lt;容器ID或名称&gt;</code>  替换为你要重启的容器的实际 ID 或名称。</p>
</li>
<li>
<p>确保 Docker 容器在系统启动时自动启动并作为守护进程运行，可以使用以下命令：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker update --restart<span style="color:#000;font-weight:bold">=</span>unless-stopped &lt;容器ID或名称&gt;
</span></span></code></pre></div><p>这将将容器的重启策略设置为除非手动停止，否则在系统启动时自动重启。</p>
</li>
</ol>
<p>现在，你的 Docker 容器将被重启，并且在系统启动时将自动作为守护进程运行。请确保在命令中替换  <code>&lt;容器ID或名称&gt;</code>  为实际的容器标识符。</p>
  </details>
<details>
  <summary>navidrom不支持aac格式的音频</summary>
<p><img src="https://bu.dusays.com/2023/09/25/65117f660a64b.png" alt=""></p>
  </details>
<h1 id="总结">总结</h1>
<hr>
<p>用热情去做好自己喜欢的事情 😊</p>

    </div>

    

    

    <div class="container-prevnext">
    <div><a href="https://matrixcore.life/posts/%E8%B0%88%E7%BE%8E-%E6%9C%B1%E5%85%89%E6%BD%9C/beauty03/">← [谈美]  三、“子非鱼，安知鱼之乐？”  ——宇宙的人情化 （朱光潜）</a></div>
    <div><a href="https://matrixcore.life/posts/%E8%BF%91%E6%9C%9F%E8%A7%84%E5%88%92/%E8%87%AA%E5%8A%A8%E9%A3%9E%E6%8E%A7/afsc02/">[自动飞控] 第2章 舵机与舵回路  →</a></div>
</div>
    
    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        萌ICP备20241020号
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
