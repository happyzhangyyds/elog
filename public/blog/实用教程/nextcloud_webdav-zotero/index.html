<!DOCTYPE html>
<html lang="en-US">

<head>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="https://bu.dusays.com/2024/04/23/6627ad7c08194.jpeg" />
<title>[文献管理]  Nextcloud_Webdav的Zotero同步方案 | Hugo ʕ•ᴥ•ʔ Bear Blog</title>
<meta name="title" content="[文献管理]  Nextcloud_Webdav的Zotero同步方案" />
<meta name="description" content="这篇文章简单介绍了如何通过Nextcloud Webdav的方式进行Zotero同步，内容包括：服务器入门，linux运维面板的安装，Nextcloud和Mysql的安装，Nginx的使用，Zotero的Webdav的设置，解除php上传的限制，从而实现在自有网盘间进行数据同步，为搭建大规模数据集提供了基础。" />
<meta name="keywords" content="实用教程," />


<meta property="og:title" content="[文献管理]  Nextcloud_Webdav的Zotero同步方案" />
<meta property="og:description" content="这篇文章简单介绍了如何通过Nextcloud Webdav的方式进行Zotero同步，内容包括：服务器入门，linux运维面板的安装，Nextcloud和Mysql的安装，Nginx的使用，Zotero的Webdav的设置，解除php上传的限制，从而实现在自有网盘间进行数据同步，为搭建大规模数据集提供了基础。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hugo.matrixcore.life/blog/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/nextcloud_webdav-zotero/" /><meta property="og:image" content="https://hugo.matrixcore.life/images/share.png"/><meta property="article:section" content="Blog" />
<meta property="article:published_time" content="2024-04-21T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-04-21T00:00:00+00:00" /><meta property="og:site_name" content="Hugo ʕ•ᴥ•ʔ Bear" />



<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hugo.matrixcore.life/images/share.png"/>

<meta name="twitter:title" content="[文献管理]  Nextcloud_Webdav的Zotero同步方案"/>
<meta name="twitter:description" content="这篇文章简单介绍了如何通过Nextcloud Webdav的方式进行Zotero同步，内容包括：服务器入门，linux运维面板的安装，Nextcloud和Mysql的安装，Nginx的使用，Zotero的Webdav的设置，解除php上传的限制，从而实现在自有网盘间进行数据同步，为搭建大规模数据集提供了基础。"/>



<meta itemprop="name" content="[文献管理]  Nextcloud_Webdav的Zotero同步方案">
<meta itemprop="description" content="这篇文章简单介绍了如何通过Nextcloud Webdav的方式进行Zotero同步，内容包括：服务器入门，linux运维面板的安装，Nextcloud和Mysql的安装，Nginx的使用，Zotero的Webdav的设置，解除php上传的限制，从而实现在自有网盘间进行数据同步，为搭建大规模数据集提供了基础。"><meta itemprop="datePublished" content="2024-04-21T00:00:00+00:00" />
<meta itemprop="dateModified" content="2024-04-21T00:00:00+00:00" />
<meta itemprop="wordCount" content="102"><meta itemprop="image" content="https://hugo.matrixcore.life/images/share.png"/>
<meta itemprop="keywords" content="实用教程," />
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
  body {
    font-family: Verdana, sans-serif;
    margin: auto;
    padding: 20px;
    max-width: 720px;
    text-align: left;
    background-color: #fff;
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: #444;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: #222;
  }

  a {
    color: #3273dc;
     
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 10px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 16px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
  }

  img {
    max-width: 100%;
  }

  code {
    padding: 2px 5px;
    background-color: #f2f2f2;
  }

  pre code {
    color: #222;
    display: block;
    padding: 20px;
    white-space: pre-wrap;
    font-size: 14px;
    overflow-x: auto;
  }

  div.highlight pre {
    background-color: initial;
    color: initial;
  }

  div.highlight code {
    background-color: unset;
    color: unset;
  }

  blockquote {
    border-left: 1px solid #999;
    color: #222;
    padding-left: 20px;
    font-style: italic;
  }

  footer {
    padding: 25px;
    text-align: center;
  }

  .helptext {
    color: #777;
    font-size: small;
  }

  .errorlist {
    color: #eba613;
    font-size: small;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li a:visited {
    color: #8b6fcb;
  }

  @media (prefers-color-scheme: dark) {
    body {
      background-color: #333;
      color: #ddd;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    strong,
    b {
      color: #eee;
    }

    a {
      color: #8cc2dd;
    }

    code {
      background-color: #777;
    }

    pre code {
      color: #ddd;
    }

    blockquote {
      color: #ccc;
    }

    textarea,
    input {
      background-color: #252525;
      color: #ddd;
    }

    .helptext {
      color: #aaa;
    }
  }

</style>

</head>

<body>
  <header><a href="/" class="title">
  <h2>Hugo ʕ•ᴥ•ʔ Bear Blog</h2>
</a>
<nav><a href="/">Home</a>


<a href="/blog">Blog</a>

</nav>
</header>
  <main>

<content>
  <h1 id="前言">前言</h1>
<hr>
<p>需求的提出：</p>
<ul>
<li>flomo:#想法 在解决问题当中，工具和人是非常重要的两个因素 2024-02-23</li>
<li>flomo:#学习 关联zotero和专业课的笔记，可以上传服务器进行查看 2024-02-29</li>
<li>flomo:#学习 使用webdav建立文献管理方式 2024-04-19</li>
<li><a href="https://matrixcore.top/article/inexhaustible#a14a6f8b2275406ea446d94b9c191dd6">流动核心</a>:#言论 如果你没有时间集中精力学习新知识，那么就花时间复习已经学过的内容。</li>
</ul>
<h1 id="正文">正文</h1>
<hr>
<p>解决的策略：</p>
<p>首先，为什么是Zotero，引用红薯下士的：<a href="https://zhuanlan.zhihu.com/p/445621222#:~:text=Zotero%20%E6%98%AF%E4%B8%80%E4%B8%AA%20%E5%BC%80%E6%BA%90,%E3%80%81%E6%98%93%E7%94%A8%E7%9A%84%E5%A4%9A%E5%B9%B3%E5%8F%B0%E7%A7%91%E7%A0%94%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%8F%AF%E7%94%A8%E6%9D%A5%E5%B8%AE%E5%8A%A9%E6%94%B6%E9%9B%86%E3%80%81%E7%BB%84%E7%BB%87%E3%80%81%E5%BC%95%E7%94%A8%E3%80%81%E5%88%86%E4%BA%AB%E5%90%84%E7%B1%BB%E8%B5%84%E6%96%99%EF%BC%8C%E6%B3%A8%E5%86%8C%E8%B4%A6%E5%8F%B7%E4%B9%8B%E5%90%8E%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E5%AE%98%E6%96%B9%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9C%A8%E5%A4%9A%E7%AB%AF%20%E8%87%AA%E5%8A%A8%E5%90%8C%E6%AD%A5%20%E4%BB%A5%E5%8F%8A%E4%BD%BF%E7%94%A8%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E7%9B%B4%E6%8E%A5%E5%9C%A8%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%93%8D%E4%BD%9C%E3%80%82">Zotero 简明介绍</a>，在windows端的文献管理方面，Zotero有他的独到之处。尽管我更喜欢苹果生态的Marginnote，但Zotero的多平台特性，使得它能满足绝大多数的使用场景。值得注意的是，Zotero如果是资深用户，就需要考虑有关存储空间的限制，当然如果仅在本地用，就无需考虑这些问题了，但涉及到云的问题，就变得复杂得多。目前很多主流的方式是搭配坚果云作为webdav，但我更倾向于自己折腾。因为就个人体验而言，我更喜欢Nextcloud。</p>
<h2 id="青菜萝卜各有所爱">青菜萝卜各有所爱</h2>
<hr>
<p>首先我需要声明一点，需求可能具有普遍性，但是做法可能因人而异，选择适合自己的就行。我采用的方案是使用<a href="https://ruan.cloud/aff/HNAAAYYQ">软云</a>的服务器，目前购置的是2H4G40G4M这款机型。三年的费用在500左右，目前体验下来速度很不错，跑了一个<a href="http://hugo.matrixcore.top/">hugo</a>练练手，小破站弱不禁风，大佬手下留情😢，效果如下图所示，测试时间为北京时间上午11点左右，响应时长在1-2s之间。首先比较基础的就是，购买服务器之后进行ssh登陆，在终端输入ssh root@ipv4，输入密码进行验证即可。</p>
<p><img src="https://bu.dusays.com/2024/04/23/6627ab4ccee3d.jpeg" alt="6627ab4ccee3d.jpeg"></p>
<p><img src="https://bu.dusays.com/2024/04/23/6627ab1eb234a.png" alt="6627ab1eb234a.png"></p>
<h2 id="安装1panel">安装1panel</h2>
<hr>
<p><a href="https://1panel.cn/">1panel</a>可以将您 的linux性能可视化，同时在操作上更加亲切，我选的是ubuntu22.04系统，安装1panel非常简单，ubuntu在线安装命令如下，其他系统参照<a href="https://1panel.cn/docs/installation/online_installation/">手册</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>curl -sSL https://resource.fit2cloud.com/1panel/package/quick_start.sh -o quick_start.sh <span style="color:#f92672">&amp;&amp;</span> sudo bash quick_start.sh
</span></span></code></pre></div><p>下面来解释为什么安装1panel，不仅是因为在管理服务器上更加方便，而且在装很多应用程序的时候，不需要您手动在命令化中进行复杂的操作，只需要通过内置的商店docker部署就行。额外插一句，1panel包含很多不错的博客框架，包括wordpress，halo都可以一键安装，感兴趣可以试试，目前wordpress对于博客入门来讲都是很好的选择，当然wordpress体量稍微有些大了，在访问速度上可能需要您进行优化。</p>
<p>回归主题，这次我们要通过1panel安装nextcloud和mysql，这一步相对比较简单，装完mysql之后，新建一个账户。作为nextcloud的数据库，同时放开端口，一般是3306，然后安装完nextcloud一般首次需要进行初始化设置，一般是40069端口，同时需要记得放开这两个端口。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo ufw allow <span style="color:#ae81ff">3306</span> <span style="color:#75715e">#示例</span>
</span></span></code></pre></div><p>通过浏览器访问40069一般会出现初始化界面，填入账号密码，然后关联数据库，最下面的对应ipv4:3306。然后初始化完成之后即可进行nextcloud。要注意的是，next可能只能通过https访问，通过http可能访问不了。所以可能得加上https://ipv4:40069的方式进行访问。</p>
<h2 id="安装nginx">安装nginx</h2>
<hr>
<p>nginx可以隐藏您的ip地址，通过域名进行访问。安装过程也比较简单。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo apt-get update <span style="color:#75715e">#更新系统</span>
</span></span><span style="display:flex;"><span>sudo apt install nginx -y <span style="color:#75715e">#进行安装</span>
</span></span></code></pre></div><p>安装完成后您可以按照网上的教程设置。回去补充更新。</p>
<h2 id="nextcloud通过域名访问">nextcloud通过域名访问</h2>
<hr>
<p>一般来讲，刚开始nextcloud还无法通过域名进行访问，需要在设置文件中进行配置，找到1panel安装nextcloud的文件夹，找到config.php，添加受信任的域名。前提是您需要拥有一个域名，并成功通过cloudflare进行dns解析。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#e6db74">&#39;trusted_domains&#39;</span> <span style="color:#f92672">=&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">array</span> (
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">0</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;localhost&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;server1.example.com&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">2</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;192.168.1.50&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">3</span> <span style="color:#f92672">=&gt;</span> <span style="color:#e6db74">&#39;[fe80::1:50]&#39;</span>,
</span></span><span style="display:flex;"><span>),
</span></span></code></pre></div><h2 id="关联nextcloud和zotero">关联nextcloud和zotero</h2>
<hr>
<blockquote>
<p>💡 什么是 WebDAV 呢？<br>
简单来说，webdav就像一个存储服务，各种应用都可以连接到它，允许应用直接访问我们的云盘内容，对其进行读写操作。**我们可以网络服务比作一只章鱼，云盘是它的大脑，WebDAV是它的触角。**每个触角都连接到我们智能设备上的应用程序。我们的应用可以通过触角读取章鱼的大脑，并将数据写入大脑，改变大脑的记忆和内容。<br>
作者：知乎用户<br>
链接：<a href="https://www.zhihu.com/question/30719209/answer/1229364665">https://www.zhihu.com/question/30719209/answer/1229364665</a><br>
来源：知乎</p>
</blockquote>
<pre><code>作者：知乎用户
链接：[https://www.zhihu.com/question/30719209/answer/1229364665](https://www.zhihu.com/question/30719209/answer/1229364665)
来源：知乎
</code></pre>
<p>参考官方说明，webdav一般格式为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>https://example.com/remote.php/dav/files/USERNAME
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!--一般的webdav格式是这样，然后登入您的账号密码进行验证--&gt;</span>
</span></span></code></pre></div><p>感谢Zotero中文小组对<a href="https://zotero-chinese.com/user-guide/sync.html">Zotero webdav的讲解</a>， 我就不多费口舌了。</p>
<h2 id="修改nextcloud-webdav-php上传的限制">修改nextcloud webdav php上传的限制</h2>
<hr>
<p>一开始我遇到的同步失败的问题，一些较小的文献可以成功，但另外一些较大的文献就会出现413的错误，查询后发现是因为文件体积过大，于是我就联想到了是不是nextcloud和nginx对这个进行了限制。于是进行了查询，发现确实有此限制。</p>
<blockquote>
<p>💡 通过web客户端上传文件时，受PHP和Apache配置的限制。默认PHP只允许2兆字节的上传。此默认配置（2兆字节限制）并不适用，我们建议您的Nextcloud管理员将Nextcloud变量的大小增加到适合用户的大小。</p>
</blockquote>
<p>修改方式参考<a href="https://docs.nextcloud.com/server/latest/admin_manual/configuration_files/big_file_upload_configuration.html">手册</a>，回去再补充。</p>
<h1 id="总结">总结</h1>
<hr>
<p>这篇文章简单介绍了，如何通过Nextcloud Webdav的方式进行Zotero同步，内容包括，服务器的入手，linux运维面板的安装，Nextcloud和Mysql的安装，Nginx的使用，Zotero的Webdav的设置，及如何解除php上传的限制，从而实现在自有网盘间进行数据同步，为搭建大规模数据提提供了基础。</p>
<h2 id="附录">附录</h2>
<hr>
<p>❤️体验效果：目前因为香港的带宽比较紧俏，所以在初次同步期间时间可能会略长些，但是同步完成之后，下载后就可以多设备正常使用，而且对于文件内修改标记追踪很灵敏，这也是我比较喜欢的地方。</p>

</content>
<p>
  
  <a href="https://hugo.matrixcore.life/blog/%E5%AE%9E%E7%94%A8%E6%95%99%E7%A8%8B/">#实用教程</a>
  
</p>

  </main>
  <footer>Made with <a href="https://github.com/janraasch/hugo-bearblog/">Hugo ʕ•ᴥ•ʔ Bear</a>
</footer>

    
</body>

</html>
